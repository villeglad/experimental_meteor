<head>
  <title>Tasker</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="six columns">
                <header>
                    <h1>Tasker</h1>

                    <p>Tasks todo: {{incompleteCount}}</p>
                    <label class="hide-completed">
                        <input type="checkbox" checked="{{hideCompleted}}">
                        Hide Completed Tasks
                    </label>

                    {{> loginButtons}}

                    {{#if currentUser}}
                        <form class="new-task">
                            <input type="text" name="text" placeholder="Type to add new task" class="u-full-width">
                        </form>
                    {{/if}}

                    {{ currentLocation }}
                </header>

                <ul>
                {{#each tasks}}
                    {{> task}}
                {{/each}}
                </ul>
            </div>
            <div class="six columns">
                {{> map}}
            </div>
            
        </div>  
        
    </div>
</body>

<template name="task">

    <li class="{{#if checked}}checked{{/if}} {{#if private}}private{{/if}}">
        
        <button class="delete">&times;</button>
   
        <input type="checkbox" checked="{{checked}}" class="toggle-checked">

        {{#if isOwner}}
            <button class="toggle-private">
                {{#if private}}
                    Private
                {{else}}
                    Public
                {{/if}}
            </button>
        {{/if}}
        <span class="text"><strong>{{username}}</strong> - {{text}} (@ {{locString}})</span>

    </li>

</template>

<template name="map">
    <div><p>{{location}}</p></div>
    <div id="map" class="map"></div>
</template>
